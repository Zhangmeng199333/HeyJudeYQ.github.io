{"title":"11、二维码的生成","uid":"305474c5192f2cb44a35555f258cd08e","slug":"11-qrcode","date":"2019-12-28T12:00:00.000Z","updated":"2022-09-05T07:33:58.000Z","comments":true,"path":"api/articles/11-qrcode.json","keywords":null,"cover":null,"content":"<p>使用 qrcode 生成二维码</p>\n<span id=\"more\"></span>\n\n<p>一、下载插件 qrcode 插件</p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">    npm install qrcode </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #BABED8\">save</span></span></code></pre></div><p>二、在 main.js 中引用</p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> QRCode </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">qrcode</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">Vue</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">use</span><span style=\"color: #BABED8\">(QRCode)</span><span style=\"color: #89DDFF\">;</span></span></code></pre></div><p>三、组件中引入 QRCode</p>\n <details>\n <summary>点我展示代码</summary>\n \n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">template</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">id</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">qrcode</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">&gt;&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">template</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre></div><div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      import QRCode from &#39;qrcode&#39;;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      mounted()</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #82AAFF\">CreateQrcode</span><span style=\"color: #BABED8\">();</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">,</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">      method:</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">          </span><span style=\"color: #82AAFF\">setTimeout</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">()</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">              </span><span style=\"color: #676E95; font-style: italic\">// 获取DOM节点</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #C792EA\">let</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">dom</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">document</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">getElementById</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">qrcode);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">              </span><span style=\"color: #676E95; font-style: italic\">// 路由传参</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">this.</span><span style=\"color: #BABED8\">$route</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">params</span><span style=\"color: #F07178\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">lbsid</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">res</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">id</span><span style=\"color: #F07178\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">              </span><span style=\"color: #676E95; font-style: italic\">// 二维码包含的URL 需要将URL和id做一下字符串的拼接</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">let</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">url</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">http://*********</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #F07178\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">let</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">URL</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">url</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">concat</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">lbsid</span><span style=\"color: #F07178\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">let</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">qrCode</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">new</span><span style=\"color: #F07178\"> </span><span style=\"color: #82AAFF\">QRCode</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">dom</span><span style=\"color: #89DDFF\">,&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                  width</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">260</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #676E95; font-style: italic\">// 图像宽度</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                  height</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F78C6C\">260</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">  </span><span style=\"color: #676E95; font-style: italic\">// 图像高度</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                  colorDark</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">#000000</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">  </span><span style=\"color: #676E95; font-style: italic\">// 前景色</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                  colorLight</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">#ffffff</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\"> </span><span style=\"color: #676E95; font-style: italic\">// 背景色</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">                  correctLevel</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #BABED8\">QRCode</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">CorrectLevel</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">H</span><span style=\"color: #F07178\">  </span><span style=\"color: #676E95; font-style: italic\">// 容错等级</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #F07178\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">qrCode</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">clear</span><span style=\"color: #F07178\">();</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">              </span><span style=\"color: #BABED8\">qrCode</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">makeCode</span><span style=\"color: #F07178\">(</span><span style=\"color: #BABED8\">URL</span><span style=\"color: #F07178\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">          &#125;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F78C6C\">100</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">      </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #BABED8\">script</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">style</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">lang</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">less</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">scoped</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        #qrcode </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            display: inline</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">block;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            margin</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">top: 6rem;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">            img </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                </span><span style=\"color: #F07178\">width</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">60</span><span style=\"color: #89DDFF\">%</span><span style=\"color: #BABED8\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                height: </span><span style=\"color: #F78C6C\">60</span><span style=\"color: #89DDFF\">%</span><span style=\"color: #BABED8\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                background</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #BABED8\">color: #fff; </span><span style=\"color: #676E95; font-style: italic\">//设置白色背景色</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                padding: 6px; </span><span style=\"color: #676E95; font-style: italic\">// 利用padding的特性，挤出白边</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">style</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre></div></details>\n","text":"使用 qrcode 生成二维码 一、下载插件 qrcode 插件 js npm install qrcode --save二、在 main.js 中引用 jsi...","permalink":"/post/11-qrcode","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"dev","slug":"dev","count":15,"path":"api/tags/dev.json"}],"toc":"","author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"12、下拉框select银行卡号格式处理","uid":"ccf6952caa2a63224f44029f48443260","slug":"12-select","date":"2019-12-29T12:00:00.000Z","updated":"2022-09-05T07:36:55.000Z","comments":true,"path":"api/articles/12-select.json","keywords":null,"cover":null,"text":"银行卡号显示为 6217 **** 0000 的格式 以选择银行卡为例： js &lt;select v-model=&quot;selected&quot; ...","permalink":"/post/12-select","photos":[],"count_time":{"symbolsCount":617,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"dev","slug":"dev","count":15,"path":"api/tags/dev.json"}],"author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"10、微信公众号网页使用popstate事件","uid":"a02ddc5c71902c14b366a37989f821e2","slug":"10-popstate","date":"2019-12-23T12:00:00.000Z","updated":"2022-09-05T07:33:29.000Z","comments":true,"path":"api/articles/10-popstate.json","keywords":null,"cover":null,"text":"如何在h5移动端禁止某一些页面使用虚拟返回键。 1、popstate事件MDN上是这样介绍popstate的： 当活动历史记录条目更改时，将触发popstate...","permalink":"/post/10-popstate","photos":[],"count_time":{"symbolsCount":938,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"dev","slug":"dev","count":15,"path":"api/tags/dev.json"}],"author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}