{"title":"80、使用 element-plus 版本升级后的问题清单","uid":"6bbe4d12f264ccc0c8550bef06f65a4b","slug":"80-element-plus","date":"2022-08-01T12:00:00.000Z","updated":"2022-09-22T08:45:03.000Z","comments":true,"path":"api/articles/80-element-plus.json","keywords":null,"cover":null,"content":"<p>element-plus 版本升级由@1.1.0-beta.15 升级到@2.0.4 版本时，在开发时遇到的问题整理及解决方法</p>\n<span id=\"more\"></span>\n\n<h2 id=\"一、错误：-Can-t-reexport-the-named-export-xxx-from-non-EcmaScript-module-only-default-export-is-available-处理\"><a href=\"#一、错误：-Can-t-reexport-the-named-export-xxx-from-non-EcmaScript-module-only-default-export-is-available-处理\" class=\"headerlink\" title=\"一、错误： Can&#39;t reexport the named export &#39;xxx&#39; from non EcmaScript module (only default export is available) 处理\"></a>一、错误： <code>Can&#39;t reexport the named export &#39;xxx&#39; from non EcmaScript module (only default export is available)</code> 处理</h2><p>这个问题是 element plus 版本升级后，再运行项目，element plus 对 webpack 的一个编译处理。</p>\n<p>解决方式：</p>\n<p>在 vue.config.js 的 chainWebpack 下增加一个规则：</p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #82AAFF\">chainWebpack</span><span style=\"color: #BABED8\">(config)</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #BABED8\">config</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">module</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">rule</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">element-plus-2</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">test</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #BABED8\">\\.</span><span style=\"color: #C3E88D\">mjs</span><span style=\"color: #89DDFF; font-style: italic\">$</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #676E95; font-style: italic\">// https://webpack.docschina.org/configuration/module/#ruletype</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">type</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">javascript/auto</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">include</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">add</span><span style=\"color: #F07178\">(</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #C3E88D\">node_modules</span><span style=\"color: #89DDFF\">/</span><span style=\"color: #F07178\">)</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">end</span><span style=\"color: #F07178\">()</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><h2 id=\"二、样式错误问题：input的白-蓝边、图片的灰色底\"><a href=\"#二、样式错误问题：input的白-蓝边、图片的灰色底\" class=\"headerlink\" title=\"二、样式错误问题：input的白&#x2F;蓝边、图片的灰色底\"></a>二、样式错误问题：input的白&#x2F;蓝边、图片的灰色底</h2><p>在做用户登录发现的el-input 存在的2个样式问题</p>\n<div class=\"language-css\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">css</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">// 处理 </span><span style=\"color: #FFCB6B\">input</span><span style=\"color: #BABED8\"> 的白/蓝边</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">el-input__inner</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #B2CCD6\">box-shadow</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> none </span><span style=\"color: #F78C6C\">!important</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  --el-select-input-focus-border-color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> none </span><span style=\"color: #F78C6C\">!important</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">// 处理图片的灰色底</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">el-avatar</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  --el-avatar-bg-color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> none </span><span style=\"color: #F78C6C\">!important</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span></code></pre></div><h2 id=\"三、tbody路径的变更\"><a href=\"#三、tbody路径的变更\" class=\"headerlink\" title=\"三、tbody路径的变更\"></a>三、tbody路径的变更</h2><p>1.x版本的element plus获取el元素的方式为：</p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #BABED8\"> el </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> tableRef.value.$el.querySelectorAll(&#39;.el-table__body-wrapper &gt; table &gt; tbody&#39;)[0]</span></span></code></pre></div><p>2.x版本的element plus获取el元素的方式为</p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">const el = tableRef.value.$el.querySelectorAll(&#39;.el-table__body &gt; tbody&#39;)[0]</span></span></code></pre></div><h2 id=\"四、中台项目侧边栏收起图标不显示问题\"><a href=\"#四、中台项目侧边栏收起图标不显示问题\" class=\"headerlink\" title=\"四、中台项目侧边栏收起图标不显示问题\"></a>四、中台项目侧边栏收起图标不显示问题</h2><p>查看控制台发现，#app .sidebar-container .svg-icon{margin-left:16px} 这个样式存在问题</p>\n<p>解决方式：在侧边栏menu收起时，取消margin-left</p>\n<div class=\"language-css\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">css</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">el-menu--collapse</span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  .svg-icon&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #B2CCD6\">margin-right</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\">0px;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">&#125;</span></span></code></pre></div>","text":"element-plus 版本升级由@1.1.0-beta.15 升级到@2.0.4 版本时，在开发时遇到的问题整理及解决方法 一、错误： Can&#39;t ...","permalink":"/post/80-element-plus","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue3","slug":"vue3","count":24,"path":"api/tags/vue3.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E9%94%99%E8%AF%AF%EF%BC%9A-Can-t-reexport-the-named-export-xxx-from-non-EcmaScript-module-only-default-export-is-available-%E5%A4%84%E7%90%86\"><span class=\"toc-text\">一、错误： Can&#39;t reexport the named export &#39;xxx&#39; from non EcmaScript module (only default export is available) 处理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E6%A0%B7%E5%BC%8F%E9%94%99%E8%AF%AF%E9%97%AE%E9%A2%98%EF%BC%9Ainput%E7%9A%84%E7%99%BD-%E8%93%9D%E8%BE%B9%E3%80%81%E5%9B%BE%E7%89%87%E7%9A%84%E7%81%B0%E8%89%B2%E5%BA%95\"><span class=\"toc-text\">二、样式错误问题：input的白&#x2F;蓝边、图片的灰色底</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81tbody%E8%B7%AF%E5%BE%84%E7%9A%84%E5%8F%98%E6%9B%B4\"><span class=\"toc-text\">三、tbody路径的变更</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E4%B8%AD%E5%8F%B0%E9%A1%B9%E7%9B%AE%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%94%B6%E8%B5%B7%E5%9B%BE%E6%A0%87%E4%B8%8D%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">四、中台项目侧边栏收起图标不显示问题</span></a></li></ol>","author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"81、egg.js(二)","uid":"5f8f097a21466c69e2c88aab3ae33526","slug":"81-egg.js","date":"2022-08-02T12:00:00.000Z","updated":"2022-10-11T06:08:16.000Z","comments":true,"path":"api/articles/81-egg.js.json","keywords":null,"cover":null,"text":"Egg.js：https://issummer.cn/2021/06/20/egg/ 一、项目环境egg.js对node版本是有要求的，node&gt; 8.x...","permalink":"/post/81-egg.js","photos":[],"count_time":{"symbolsCount":"6.1k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"egg","slug":"egg","count":4,"path":"api/tags/egg.json"}],"author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"79、ref-reactive","uid":"37b219f184dabddbe2b36b7003f81908","slug":"79-ref-reactive","date":"2022-07-31T13:00:00.000Z","updated":"2022-11-01T01:13:16.000Z","comments":true,"path":"api/articles/79-ref-reactive.json","keywords":null,"cover":null,"text":"ref&#x2F;reactive 都能创建一个响应对象，这二者的区别是什么呢？ 一、reactive reactive 都能创建一个响应对象或数组 1、rea...","permalink":"/post/79-ref-reactive","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"js","slug":"js","count":11,"path":"api/tags/js.json"}],"author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}