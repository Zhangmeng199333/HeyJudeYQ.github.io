{"title":"69、screenfull组件","uid":"0202dbb7e41b5d97a0e20e68e4d674a0","slug":"69-screenfull","date":"2022-06-15T02:00:00.000Z","updated":"2022-09-05T08:00:48.000Z","comments":true,"path":"api/articles/69-screenfull.json","keywords":null,"cover":null,"content":"<p>screenfull组件:主要使用的是浏览器的2个API:Document.exitFullscreen():该方法用于请求从全屏模式切换到窗口模式；<br>Element.requestFullscreen()：该方法用于请求浏览器（user agent）将特定元素（甚至延伸到它的后代元素）置为全屏模式。<br>当通过document.getElementById(‘app’).requestFullscreen()在获取id&#x3D;app的DOM之后，把该区域置为全屏</p>\n<p>这种方法存在一定的问题（内容区域的AppMain）区域背景为黑色。</p>\n<span id=\"more\"></span>\n\n<p>实现全屏显示模式，通常可以使用包装库：screenfull。</p>\n<h2 id=\"一、实现\"><a href=\"#一、实现\" class=\"headerlink\" title=\"一、实现\"></a>一、实现</h2><p>1、安装screenfull</p>\n<p>2、创建全屏组件</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">template</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">svg-icon</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">      </span><span style=\"color: #C792EA\">:icon</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">isFullscreen ? &#39;exit-fullscreen&#39; : &#39;fullscreen&#39;</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">      </span><span style=\"color: #C792EA\">@click</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">onToggle</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">template</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre></div><div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">setup</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">import </span><span style=\"color: #89DDFF\">&#123;</span><span style=\"color: #BABED8\"> ref</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> onMounted</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> onUnmounted </span><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\"> from &#39;vue&#39;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">import screenfull from &#39;screenfull&#39;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">// 是否全屏</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">const isFullscreen = ref(false)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">// 监听变化</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">const change = () =&gt; </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  isFullscreen</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">value </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> screenfull</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">isFullscreen</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">// 切换事件</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">const onToggle = () =&gt; </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  screenfull</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">toggle</span><span style=\"color: #BABED8\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">// 设置侦听器</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">onMounted(() =&gt; </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  screenfull</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">on</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">change</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> change)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">// 删除侦听器</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">onUnmounted(() =&gt; </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">  screenfull</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">off</span><span style=\"color: #BABED8\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">change</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> change)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"></span></code></pre></div><p>3、引入全屏组件</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">screenfull</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">right-menu-item hover-effect</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\"> /&gt;</span></span></code></pre></div><div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> Screenfull </span><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">@/components/Screenfull</span><span style=\"color: #89DDFF\">&#39;</span></span></code></pre></div>","text":"screenfull组件:主要使用的是浏览器的2个API:Document.exitFullscreen():该方法用于请求从全屏模式切换到窗口模式；Eleme...","permalink":"/post/69-screenfull","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"vue3","slug":"vue3","count":24,"path":"api/tags/vue3.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">一、实现</span></a></li></ol>","author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"70、功能引导组件","uid":"55312e8233d803ec007c9eef56330218","slug":"70-guide","date":"2022-06-20T02:00:00.000Z","updated":"2022-09-05T08:01:07.000Z","comments":true,"path":"api/articles/70-guide.json","keywords":null,"cover":null,"text":"功能引导组件实现 一、功能引导：driver.js实现思路： 1、定义导航数据html&lt;svg-icon icon=&quot;guide&quot; @...","permalink":"/post/70-guide","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"vue3","slug":"vue3","count":24,"path":"api/tags/vue3.json"}],"author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"68、ESlint+Prettier+VSCode代码格式规范、git提交规范","uid":"d956ecb06d60e9a08e3ce903b3ba33a3","slug":"68-eslint","date":"2022-06-07T07:49:40.000Z","updated":"2022-09-05T08:00:31.000Z","comments":true,"path":"api/articles/68-eslint.json","keywords":null,"cover":null,"text":"ESlint+Prettier+VSCode代码格式规范、git提交规范 一、ESlint规范、Prettier格式化工具规范1. .eslintrc.jsjs...","permalink":"/post/68-eslint","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"eslint","slug":"eslint","count":1,"path":"api/tags/eslint.json"}],"author":{"name":"Jude","slug":"blog-author","avatar":"","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}