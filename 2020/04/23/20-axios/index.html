<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;issummer.cn&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="axios 基于 promise 的 http 库 特性：拦截请求和响应、取消请求、转换 json、客户端防御 XSRF">
<meta property="og:type" content="article">
<meta property="og:title" content="20、axios的封装">
<meta property="og:url" content="http://issummer.cn/2020/04/23/20-axios/index.html">
<meta property="og:site_name" content="Jude">
<meta property="og:description" content="axios 基于 promise 的 http 库 特性：拦截请求和响应、取消请求、转换 json、客户端防御 XSRF">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-04-23T12:00:00.000Z">
<meta property="article:modified_time" content="2022-09-05T07:41:18.168Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="axios">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://issummer.cn/2020/04/23/20-axios/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<title>20、axios的封装 | Jude</title><script data-pjax src="/js/load-config.js"></script>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Jude</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81axios-%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">1、axios 的安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%9C%A8-request-%E6%96%87%E4%BB%B6%E5%A4%B9-http-js"><span class="nav-number">2.</span> <span class="nav-text">2、在 request 文件夹 http.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%87%E6%8D%A2-%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6-post-%E8%AF%B7%E6%B1%82%E5%A4%B4%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">3、环境的切换&#x2F;请求超时&#x2F;post 请求头设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E8%AF%B7%E6%B1%82%E6%8B%A6%E6%88%AA-%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA"><span class="nav-number">4.</span> <span class="nav-text">4、请求拦截 响应拦截</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81get%E3%80%81post-%E8%AF%B7%E6%B1%82%E7%9A%84%E5%B0%81%E8%A3%85"><span class="nav-number">5.</span> <span class="nav-text">5、get、post 请求的封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81axios-%E5%AE%8C%E6%95%B4%E5%B0%81%E8%A3%85%E4%BB%A3%E7%A0%81"><span class="nav-number">6.</span> <span class="nav-text">6、axios 完整封装代码:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81token-%E5%A4%B1%E6%95%88%E5%8F%8A%E6%8E%A5%E5%8F%A3%E5%9B%BD%E9%99%85%E5%8C%96"><span class="nav-number">7.</span> <span class="nav-text">7、token 失效及接口国际化</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">126</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://issummer.cn/2020/04/23/20-axios/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jude">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          20、axios的封装
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-04-23 20:00:00" itemprop="dateCreated datePublished" datetime="2020-04-23T20:00:00+08:00">2020-04-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-09-05 15:41:18" itemprop="dateModified" datetime="2022-09-05T15:41:18+08:00">2022-09-05</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <blockquote>
<p>axios 基于 promise 的 http 库 特性：拦截请求和响应、取消请求、转换 json、客户端防御 XSRF</p>
</blockquote>
<span id="more"></span>

<p>当后端接口报了 500 错误时被 axios 拦截了但确并未返回一个 promise，导致业务代码中未捕获此错误。</p>
<p>所以记住：</p>
<blockquote>
<p>在每个 promise 链条中必须返回 promise，否则调用结果可能和你预期不一样。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">service.interceptors.response.use(<br>  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (response.status === <span class="hljs-number">200</span> &amp;&amp; response.data) &#123;<br>      <span class="hljs-keyword">return</span> response.data;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;请求失败&quot;</span>));<br>    &#125;<br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error);<br>  &#125;<br>);<br></code></pre></td></tr></table></figure>

<h3 id="1、axios-的安装"><a href="#1、axios-的安装" class="headerlink" title="1、axios 的安装"></a>1、axios 的安装</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">npm install axios<br></code></pre></td></tr></table></figure>

<h3 id="2、在-request-文件夹-http-js"><a href="#2、在-request-文件夹-http-js" class="headerlink" title="2、在 request 文件夹 http.js"></a>2、在 request 文件夹 http.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// http.js</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> QS <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;qs&quot;</span>; <span class="hljs-comment">// 序列化post类型的数据</span><br><span class="hljs-keyword">import</span> &#123; Toast &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vant&quot;</span>; <span class="hljs-comment">// 引入vant组件库的toast组件</span><br></code></pre></td></tr></table></figure>

<h3 id="3、环境的切换-请求超时-post-请求头设置"><a href="#3、环境的切换-请求超时-post-请求头设置" class="headerlink" title="3、环境的切换/请求超时/post 请求头设置"></a>3、环境的切换/请求超时/post 请求头设置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 环境的切换</span><br><span class="hljs-keyword">if</span> (process.env.NODE_ENV == <span class="hljs-string">&quot;development&quot;</span>) &#123;<br>  axios.defaults.baseURL = <span class="hljs-string">&quot;https://www.baidu.com&quot;</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (process.env.NODE_ENV == <span class="hljs-string">&quot;debug&quot;</span>) &#123;<br>  axios.defaults.baseURL = <span class="hljs-string">&quot;https://www.ceshi.com&quot;</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (process.env.NODE_ENV == <span class="hljs-string">&quot;production&quot;</span>) &#123;<br>  axios.defaults.baseURL = <span class="hljs-string">&quot;https://www.production.com&quot;</span>;<br>&#125;<br><br>axios.defaults.timeout = <span class="hljs-number">10000</span>;<br><br>axios.defaults.headers.post[<span class="hljs-string">&quot;Content-Type&quot;</span>] =<br>  <span class="hljs-string">&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;</span>;<br></code></pre></td></tr></table></figure>

<h3 id="4、请求拦截-响应拦截"><a href="#4、请求拦截-响应拦截" class="headerlink" title="4、请求拦截 响应拦截"></a>4、请求拦截 响应拦截</h3><details>
<summary>点击展示代码</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 先导入vuex,因为我们要使用到里面的状态对象</span><br><span class="hljs-comment">// vuex的路径根据自己的路径去写</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/store/index&#x27;</span>;<br><br><span class="hljs-comment">// 请求拦截器</span><br>axios.interceptors.request.use(<br>    <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// 每次发送请求之前判断vuex中是否存在token</span><br>        <span class="hljs-comment">// 如果存在，则统一在http请求的header都加上token，这样后台根据token判断你的登录情况</span><br>        <span class="hljs-comment">// 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断</span><br>        <span class="hljs-keyword">const</span> token = store.state.token;<br>        token &amp;&amp; (config.headers.Authorization = token);<br>        <span class="hljs-keyword">return</span> config;<br>    &#125;,<br>    <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.error(error);<br>    &#125;<br>)<br><br><span class="hljs-comment">// 响应拦截器</span><br>axios.interceptors.response.use(<br>    <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// 如果返回的状态码为200，说明接口请求成功，可以正常拿到数据</span><br>        <span class="hljs-comment">// 否则的话抛出错误</span><br>        <span class="hljs-keyword">if</span> (response.status === <span class="hljs-number">200</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(response);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(response);<br>        &#125;<br>    &#125;,<br>    <span class="hljs-comment">// 服务器状态码不是2开头的的情况</span><br>    <span class="hljs-comment">// 这里可以跟你们的后台开发人员协商好统一的错误状态码</span><br>    <span class="hljs-comment">// 然后根据返回的状态码进行一些操作，例如登录过期提示，错误提示等等</span><br>    <span class="hljs-comment">// 下面列举几个常见的操作，其他需求可自行扩展</span><br>    <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (error.response.status) &#123;<br>            <span class="hljs-keyword">switch</span> (error.response.status) &#123;<br>                <span class="hljs-comment">// 401: 未登录</span><br>                <span class="hljs-comment">// 未登录则跳转登录页面，并携带当前页面的路径</span><br>                <span class="hljs-comment">// 在登录成功后返回当前页面，这一步需要在登录页操作。</span><br>                <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:<br>                    router.replace(&#123;<br>                        <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>                        <span class="hljs-attr">query</span>: &#123;<br>                            <span class="hljs-attr">redirect</span>: router.currentRoute.fullPath<br>                        &#125;<br>                    &#125;);<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-comment">// 403 token过期</span><br>                <span class="hljs-comment">// 登录过期对用户进行提示</span><br>                <span class="hljs-comment">// 清除本地token和清空vuex中token对象</span><br>                <span class="hljs-comment">// 跳转登录页面</span><br>                <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:<br>                     Toast(&#123;<br>                        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;登录过期，请重新登录&#x27;</span>,<br>                        <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,<br>                        <span class="hljs-attr">forbidClick</span>: <span class="hljs-literal">true</span><br>                    &#125;);<br>                    <span class="hljs-comment">// 清除token</span><br>                    <span class="hljs-built_in">localStorage</span>.removeItem(<span class="hljs-string">&#x27;token&#x27;</span>);<br>                    store.commit(<span class="hljs-string">&#x27;loginSuccess&#x27;</span>, <span class="hljs-literal">null</span>);<br>                    <span class="hljs-comment">// 跳转登录页面，并将要浏览的页面fullPath传过去，登录成功后跳转需要访问的页面</span><br>                    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>                        router.replace(&#123;<br>                            <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>                            <span class="hljs-attr">query</span>: &#123;<br>                                <span class="hljs-attr">redirect</span>: router.currentRoute.fullPath<br>                            &#125;<br>                        &#125;);<br>                    &#125;, <span class="hljs-number">1000</span>);<br>                    <span class="hljs-keyword">break</span>;<br><br>                <span class="hljs-comment">// 404请求不存在</span><br>                <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:<br>                    Toast(&#123;<br>                        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;网络请求不存在&#x27;</span>,<br>                        <span class="hljs-attr">duration</span>: <span class="hljs-number">1500</span>,<br>                        <span class="hljs-attr">forbidClick</span>: <span class="hljs-literal">true</span><br>                    &#125;);<br>                    <span class="hljs-keyword">break</span>;<br>                <span class="hljs-comment">// 其他错误，直接抛出错误提示</span><br>                <span class="hljs-keyword">default</span>:<br>                    Toast(&#123;<br>                        <span class="hljs-attr">message</span>: error.response.data.message,<br>                        <span class="hljs-attr">duration</span>: <span class="hljs-number">1500</span>,<br>                        <span class="hljs-attr">forbidClick</span>: <span class="hljs-literal">true</span><br>                    &#125;);<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error.response);<br>        &#125;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>

</details>

<h3 id="5、get、post-请求的封装"><a href="#5、get、post-请求的封装" class="headerlink" title="5、get、post 请求的封装"></a>5、get、post 请求的封装</h3><blockquote>
<p>get 方法：我们通过定义一个 get 函数，get 函数有两个参数，第一个参数表示我们要请求的 url 地址，第二个参数是我们要携带的请求参数。get 函数返回一个 promise 对象，当 axios 其请求成功时 resolve 服务器返回 值，请求失败时 reject 错误值。最后通过 export 抛出 get 函数。</p>
</blockquote>
<details>
<summary>点击展示代码</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * get方法，对应get请求</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;String&#125;</span> </span>url [请求的url地址]</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Object&#125;</span> </span>params [请求时携带的参数]</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params">url, params</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    axios<br>      .get(url, &#123;<br>        <span class="hljs-attr">params</span>: params,<br>      &#125;)<br>      .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        resolve(res.data);<br>      &#125;)<br>      .catch(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        reject(err.data);<br>      &#125;);<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>

</details>

<blockquote>
<p>原理同 get 基本一样，但是要注意的是，post 方法必须要使用对提交从参数对象进行序列化的操作，所以这里我们通过 node 的 qs 模块来序列化我们的参数。这个很重要，如果没有序列化操作，后台是拿不到你提交的数据的。这就是文章开头我们 import QS from ‘qs’;的原因</p>
</blockquote>
<details>
<summary>点击展示代码</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * post方法，对应post请求</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;String&#125;</span> </span>url [请求的url地址]</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Object&#125;</span> </span>params [请求时携带的参数]</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">post</span>(<span class="hljs-params">url, params</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    axios<br>      .post(url, QS.stringify(params))<br>      .then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        resolve(res.data);<br>      &#125;)<br>      .catch(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        reject(err.data);<br>      &#125;);<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>

</details>

<h3 id="6、axios-完整封装代码"><a href="#6、axios-完整封装代码" class="headerlink" title="6、axios 完整封装代码:"></a>6、axios 完整封装代码:</h3><details>
<summary>点击展示代码</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * axios封装</span><br><span class="hljs-comment"> * 请求拦截、响应拦截、错误统一处理</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../router&quot;</span>;<br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../store/index&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; Toast &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vant&quot;</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 提示函数</span><br><span class="hljs-comment"> * 禁止点击蒙层、显示一秒后关闭</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> tip = <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> &#123;<br>  Toast(&#123;<br>    <span class="hljs-attr">message</span>: msg,<br>    <span class="hljs-attr">duration</span>: <span class="hljs-number">1000</span>,<br>    <span class="hljs-attr">forbidClick</span>: <span class="hljs-literal">true</span>,<br>  &#125;);<br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 跳转登录页</span><br><span class="hljs-comment"> * 携带当前页面路由，以期在登录页面完成登录后返回当前页面</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> toLogin = <span class="hljs-function">() =&gt;</span> &#123;<br>  router.replace(&#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/login&quot;</span>,<br>    <span class="hljs-attr">query</span>: &#123;<br>      <span class="hljs-attr">redirect</span>: router.currentRoute.fullPath,<br>    &#125;,<br>  &#125;);<br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 请求失败后的错误统一处理</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>status 请求失败的状态码</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> errorHandle = <span class="hljs-function">(<span class="hljs-params">status, other</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// 状态码判断</span><br>  <span class="hljs-keyword">switch</span> (status) &#123;<br>    <span class="hljs-comment">// 401: 未登录状态，跳转登录页</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:<br>      toLogin();<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-comment">// 403 token过期</span><br>    <span class="hljs-comment">// 清除token并跳转登录页</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:<br>      tip(<span class="hljs-string">&quot;登录过期，请重新登录&quot;</span>);<br>      <span class="hljs-built_in">localStorage</span>.removeItem(<span class="hljs-string">&quot;token&quot;</span>);<br>      store.commit(<span class="hljs-string">&quot;loginSuccess&quot;</span>, <span class="hljs-literal">null</span>);<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        toLogin();<br>      &#125;, <span class="hljs-number">1000</span>);<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-comment">// 404请求不存在</span><br>    <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:<br>      tip(<span class="hljs-string">&quot;请求的资源不存在&quot;</span>);<br>      <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">default</span>:<br>      <span class="hljs-built_in">console</span>.log(other);<br>  &#125;<br>&#125;;<br><br><span class="hljs-comment">// 创建axios实例</span><br><span class="hljs-keyword">var</span> instance = axios.create(&#123; <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">12</span> &#125;);<br><span class="hljs-comment">// 设置post请求头</span><br>instance.defaults.headers.post[<span class="hljs-string">&quot;Content-Type&quot;</span>] =<br>  <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span>;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 请求拦截器</span><br><span class="hljs-comment"> * 每次请求前，如果存在token则在请求头中携带token</span><br><span class="hljs-comment"> */</span><br>instance.interceptors.request.use(<br>  <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 登录流程控制中，根据本地是否存在token判断用户的登录情况</span><br>    <span class="hljs-comment">// 但是即使token存在，也有可能token是过期的，所以在每次的请求头中携带token</span><br>    <span class="hljs-comment">// 后台根据携带的token判断用户的登录情况，并返回给我们对应的状态码</span><br>    <span class="hljs-comment">// 而后我们可以在响应拦截器中，根据状态码进行一些统一的操作。</span><br>    <span class="hljs-keyword">const</span> token = store.state.token;<br>    token &amp;&amp; (config.headers.Authorization = token);<br>    <span class="hljs-keyword">return</span> config;<br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-built_in">Promise</span>.error(error)<br>);<br><br><span class="hljs-comment">// 响应拦截器</span><br>instance.interceptors.response.use(<br>  <span class="hljs-comment">// 请求成功</span><br>  <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> (res.status === <span class="hljs-number">200</span> ? <span class="hljs-built_in">Promise</span>.resolve(res) : <span class="hljs-built_in">Promise</span>.reject(res)),<br>  <span class="hljs-comment">// 请求失败</span><br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; response &#125; = error;<br>    <span class="hljs-keyword">if</span> (response) &#123;<br>      <span class="hljs-comment">// 请求已发出，但是不在2xx的范围</span><br>      errorHandle(response.status, response.data.message);<br>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(response);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-comment">// 处理断网的情况</span><br>      <span class="hljs-comment">// eg:请求超时或断网时，更新state的network状态</span><br>      <span class="hljs-comment">// network状态在app.vue中控制着一个全局的断网提示组件的显示隐藏</span><br>      <span class="hljs-comment">// 关于断网组件中的刷新重新获取数据，会在断网组件中说明</span><br>      <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.navigator.onLine) &#123;<br>        store.commit(<span class="hljs-string">&quot;changeNetwork&quot;</span>, <span class="hljs-literal">false</span>);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error);<br>      &#125;<br>    &#125;<br>  &#125;<br>);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> instance;<br></code></pre></td></tr></table></figure>

</details>

<h3 id="7、token-失效及接口国际化"><a href="#7、token-失效及接口国际化" class="headerlink" title="7、token 失效及接口国际化"></a>7、token 失效及接口国际化</h3><details>
<summary>点击展示代码</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 是否超时</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isCheckTimeout</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// 当前时间戳</span><br>  <span class="hljs-keyword">var</span> currentTime = <span class="hljs-built_in">Date</span>.now();<br>  <span class="hljs-comment">// 缓存时间戳</span><br>  <span class="hljs-keyword">var</span> timeStamp = getTimeStamp();<br>  <span class="hljs-keyword">return</span> currentTime - timeStamp &gt; TOKEN_TIMEOUT_VALUE;<br>&#125;<br><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/store&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; ElMessage &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;element-plus&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; isCheckTimeout &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/utils/auth&quot;</span>;<br><br><span class="hljs-keyword">const</span> service = axios.create(&#123;<br>  <span class="hljs-attr">baseURL</span>: process.env.VUE_APP_BASE_API,<br>  <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>,<br>&#125;);<br><br><span class="hljs-comment">// 请求拦截器</span><br>service.interceptors.request.use(<br>  <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 在这个位置需要统一的去注入token</span><br>    <span class="hljs-keyword">if</span> (store.getters.token) &#123;<br>      <span class="hljs-keyword">if</span> (isCheckTimeout()) &#123;<br>        <span class="hljs-comment">// 登出操作</span><br>        store.dispatch(<span class="hljs-string">&quot;user/logout&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;token 失效&quot;</span>));<br>      &#125;<br>      <span class="hljs-comment">// 如果token存在 注入token</span><br>      config.headers.Authorization = <span class="hljs-string">`Bearer <span class="hljs-subst">$&#123;store.getters.token&#125;</span>`</span>;<br>    &#125;<br>    <span class="hljs-comment">// 配置接口国际化</span><br>    config.headers[<span class="hljs-string">&quot;Accept-Language&quot;</span>] = store.getters.language;<br>    <span class="hljs-keyword">return</span> config; <span class="hljs-comment">// 必须返回配置</span><br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error);<br>  &#125;<br>);<br><br><span class="hljs-comment">// 响应拦截器</span><br>service.interceptors.response.use(<br>  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; success, message, data &#125; = response.data;<br>    <span class="hljs-comment">//   要根据success的成功与否决定下面的操作</span><br>    <span class="hljs-keyword">if</span> (success) &#123;<br>      <span class="hljs-keyword">return</span> data;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-comment">// 业务错误</span><br>      ElMessage.error(message); <span class="hljs-comment">// 提示错误消息</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(message));<br>    &#125;<br>  &#125;,<br>  <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 处理 token 超时问题</span><br>    <span class="hljs-keyword">if</span> (<br>      error.response &amp;&amp;<br>      error.response.data &amp;&amp;<br>      error.response.data.code === <span class="hljs-number">401</span><br>    ) &#123;<br>      <span class="hljs-comment">// token超时</span><br>      store.dispatch(<span class="hljs-string">&quot;user/logout&quot;</span>);<br>    &#125;<br>    ElMessage.error(error.message); <span class="hljs-comment">// 提示错误信息</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error);<br>  &#125;<br>);<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> service;<br></code></pre></td></tr></table></figure>

</details>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/axios/" rel="tag"># axios</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/04/20/19-echarts/" rel="prev" title="19、关于echarts官方的一个bug -- sublink跳转问题">
                  <i class="fa fa-chevron-left"></i> 19、关于echarts官方的一个bug -- sublink跳转问题
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/04/28/21-v-charts/" rel="next" title="21、v-charts的options">
                  21、v-charts的options <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
